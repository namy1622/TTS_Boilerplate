@model TTS_boilerplate.Web.Models.Carts.CartListViewModel
@{
  Layout = "~/Views/Shared/Layout/_Layout_Cart.cshtml";

}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

 <environment names="Development">

     <script src="~/view-resources/Views/Carts/index_Cart.js" asp-append-version="true"></script>
 </environment>

 <environment names="Staging,Production">
     <script src="~/view-resources/Views/Carts/index_Cart.min.js" asp-append-version="true"></script>
 </environment>


<div class="container mt-4" style="margin-bottom:100px">
    <div class="d-flex">
      <div>
      <a asp-controller="Products" asp-action="Index"><i class="fa-solid fa-arrow-left" style="color: dimgray"></i></a>
    </div>
    <h5 class="mb-4 font-weight-bold ml-3">Giỏ hàng</h5>
  </div>
    
    <div class="cart-container " id="cartList" style="background-color:none">
        @foreach(var cartItem in Model.CartList)
        {
            <div class="cart-item row align-items-center g-3 py-3 mb-3">
                <div class="col-1 align-items-center">
                    <input type="checkbox" class="form-check-input select-item ml-3 mb-2"
                       data-quantity="@cartItem.Quantity"
                       data-price="@cartItem.Price">
                </div>

                <div class="col-1 align-items-center">
                    <img src="@cartItem.ProductImagePath"
                         alt="Product"
                         class="item-image"
                         style="width: 80px; height: 80px; object-fit: fill;">
                </div>

                <div class="col-3">
                    <div class="item-details">
                        <div class="item-name text-truncate mb-1">@cartItem.NameProduct</div>
                        

                    </div>
                </div>

                <div class="col-md-2">
                    <div class="item-category text-muted small">@cartItem.DescriptionProduct</div>
                </div>

                <div class="quantity-control d-flex align-items-center" data-product-id="@cartItem.ProductId">
                  <button class="btn btn-outline-secondary btn-sm btn-minus">−</button>
                  <input type="text"
                         class="form-control form-control-sm mx-2 text-center quantity-input"
                         value="@cartItem.Quantity"
                         min="1"
                         style="width: 50px;">
                  <button class="btn btn-outline-secondary btn-sm btn-plus">+</button>
                </div>

                <div class="col-md-2">
                    <div class="item-total text-danger">@cartItem.Price</div>
                </div>

                <div class="col-md-1">
                    <div class="item-actions">
                        <button class="btn btn-link text-danger p-0 mb-1 btn_deleteCartItem" data-idCartItem="@cartItem.Id">Xóa</button>

                    </div>
                </div>
            </div>
        }
       
    </div>
</div>
<div class="cart-header-2 container">
  <div class="select-all">
    <input type="checkbox" id="select-all-items">
    <label for="select-all-items">Chọn Tất Cả</label>
  </div>
  <div class="actions">
    
  </div>
  <div class="cart-summary">
    <span class="total-label">Tổng cộng:</span>
    <span class="total-price">  ₫</span>
    <button class="checkout-btn">Mua Hàng</button>
  </div>
</div>




<style>
    /* Common styles */
    body {
        font-family: 'Roboto', sans-serif;
        background-color: #f5f5f5;
        color: #333;
    }

    /* Container styles */
    .cart-container {
        max-width: 1200px;
        margin: 20px auto;
        background: #fff;
        border-radius: 4px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }

    /* Shop group styles */


    /* Header styles */
    .cart-header {
        display: flex;
        align-items: center;
        padding: 15px;
        background: #fff;
        border: 1px solid #e0e0e0;
        border-bottom: none;
        border-radius: 4px 4px 0 0;
    }

    /* Mall badge */
    .mall-badge {
        background: #ee4d2d;
        color: white;
        padding: 2px 6px;
        border-radius: 2px;
        font-size: 12px;
        font-weight: 500;
        text-transform: uppercase;
    }

    /* Shop name */
    .shop-name {
        font-size: 14px;
        font-weight: 500;
        color: #333;
        margin-left: 8px;
    }

    /* Cart item styles */
    .cart-item {
        display: flex;
        align-items: center;
        padding: 20px 15px;
        background: #fff;
        border: 1px solid #e0e0e0;
        border-top: none;
        position: relative;
    }

    /* Item image */
    .item-image {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 4px;
    }

    /* Item details */
    .item-details {
        padding: 0 15px;
    }

    .item-name {
        font-size: 14px;
        font-weight: 500;
        color: #333;
        margin-bottom: 4px;
        text-decoration: none;
    }

    .item-category {
        font-size: 13px;
        color: #757575;
        margin-bottom: 4px;
    }

    .flash-sale {
        font-size: 12px;
        color: #ee4d2d;
    }

    /* Price styles */
    .item-price {
        padding: 0 15px;
    }

    .original-price {
        font-size: 14px;
        color: #757575;
        text-decoration: line-through;
    }

    .sale-price {
        font-size: 14px;
        color: #ee4d2d;
        font-weight: 500;
    }

    /* Quantity control */
    .quantity-control {
        display: flex;
        align-items: center;
        padding: 0 15px;
    }

    .quantity-btn {
        width: 28px;
        height: 28px;
        border: 1px solid #e0e0e0;
        background: #fff;
        font-size: 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .quantity-input {
        width: 50px;
        height: 28px;
        border: 1px solid #e0e0e0;
        margin: 0 5px;
        text-align: center;
        font-size: 14px;
    }

    /* Total price */
    .item-total {
        font-size: 14px;
        color: #ee4d2d;
        font-weight: 500;
        padding: 0 15px;
    }

    /* Action buttons */
    .item-actions {
        display: flex;
        flex-direction: column;
        gap: 8px;
        padding: 0 15px;
    }

    .delete-btn {
        font-size: 14px;
        color: #757575;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
    }

    .similar-products {
        font-size: 13px;
        color: #2673dd;
        cursor: pointer;
    }

    /* Checkbox styles */
    .select-all, .item-checkbox {
        padding: 0 15px;
    }

    .form-check-input {
        cursor: pointer;
    }

    /* Divider */
    .shop-divider {
        margin: 0;
        border: none;
        border-top: 1px solid #e0e0e0;
    }

    /* Hover effects */
    .item-name:hover {
        color: #ee4d2d;
    }

    .delete-btn:hover {
        color: #ee4d2d;
    }

    .similar-products:hover {
        opacity: 0.8;
    }

    .quantity-btn:hover {
        background-color: #f5f5f5;
    }

    /* Responsive styles */


    /* Bootstrap overrides */
    .form-control:focus {
        box-shadow: none;
        border-color: #ee4d2d;
    }

    .btn-outline-secondary:focus {
        box-shadow: none;
    }

    /* Utility classes */
    .cursor-pointer {
        cursor: pointer;
    }

    .text-truncate-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

  .cart-header-2 {
    display: flex;
    align-items: center;
    padding: 10px 20px;
    border-bottom: 1px solid #e0e0e0;
    border-top: 1px solid #ddd;
    background-color:lightgray;
    margin-bottom: 20px;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 999;
  }

  .cart-header-2 .actions,
  .cart-header-2 .cart-summary,
  .cart-header-2 .select-all {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .select-all {
    display: flex;
    align-items: center;
    margin-right: 15px;
  }

    .select-all input {
      margin-right: 5px;
    }

  .actions {
    display: flex;
    gap: 15px;
    margin-right: auto;
  }

  .action-btn {
    background: none;
    border: none;
    cursor: pointer;
    color: #555;
    font-size: 14px;
  }

  .save-btn {
    color: #ee4d2d;
    text-decoration: none;
  }

  .cart-summary {
    display: flex;
    align-items: center;
  }

  .total-label {
    margin-right: 10px;
    font-size: 14px;
  }

  .total-price {
    color: #ee4d2d;
    font-size: 18px;
    font-weight: bold;
    margin-right: 20px;
  }

  .checkout-btn {
    background-color: #ee4d2d;
    color: white;
    border: none;
    padding: 10px 40px;
    border-radius: 2px;
    font-size: 16px;
    cursor: pointer;
  }
</style>